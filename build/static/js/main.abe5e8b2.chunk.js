(this["webpackJsonpmanage-care"]=this["webpackJsonpmanage-care"]||[]).push([[0],{105:function(e,t,n){},107:function(e,t,n){},110:function(e,t,n){},111:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(47),o=n.n(c),i=n(20),s=(n(66),n(4)),u=n.n(s),l=n(10),f=n(21),h=n(17);n(68),n(69);function p(e){return r.a.createElement("div",{className:"home"},r.a.createElement("div",{className:"lander"},r.a.createElement("h1",null,"Marathon Admin"),r.a.createElement("p",null,"Marathon Admin Dashboard to be use by BFHL team."),r.a.createElement("p",null,"Add upload LOGIC HERE")))}var m=n(117),d=n(113),g=n(25),b=n(116),v=n(112);n(70);function k(e){var t=e.isLoading,n=e.className,a=void 0===n?"":n,c=e.disabled,o=void 0!==c&&c,i=Object(g.a)(e,["isLoading","className","disabled"]);return r.a.createElement(b.a,Object.assign({className:"loader-button ".concat(a),disabled:o||t},i),t&&r.a.createElement(v.a,{glyph:"refresh",className:"spinning"}),i.children)}n(105);var O=n(53),E=n(54),x=n(59),w=n(55),S=n(60),y=n(58),j=function(){var e=Object(l.a)(u.a.mark((function e(t,n){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{headers:{Authorization:"Bearer ".concat(n)}});case 2:return a=e.sent,e.abrupt("return",a.json());case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),M=function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ")>-1,n=e.indexOf("Trident/")>-1;return t||n},I="Mail.Read",L="https://graph.microsoft.com/v1.0/me",T="https://graph.microsoft.com/v1.0/me/messages",q={LOGIN:{scopes:["openid","profile","User.Read"]},EMAIL:{scopes:[I]}},N=new y.a({auth:{clientId:"273d0f0a-dd61-4cea-86a8-159a67bfbc30",authority:"https://login.microsoftonline.com/".concat("dda73bd8-c44f-42f8-ae35-04e83d5e5037"),validateAuthority:!0,postLogoutRedirectUri:"http://localhost:3000",navigateToLoginRequestUrl:!1},cache:{cacheLocation:"sessionStorage",storeAuthStateInCookie:M()},system:{navigateFrameWait:0,logger:{error:console.error,errorPii:console.error,info:console.log,infoPii:console.log,verbose:console.log,verbosePii:console.log,warning:console.warn,warningPii:console.warn}}}),R=M(),A=function(e){return function(t){function n(e){var t;return Object(O.a)(this,n),(t=Object(x.a)(this,Object(w.a)(n).call(this,e))).state={account:null,error:null,emailMessages:null,graphProfile:null},t}return Object(S.a)(n,t),Object(E.a)(n,[{key:"acquireToken",value:function(){var e=Object(l.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",N.acquireTokenSilent(t).catch((function(e){if((a=e.errorCode)&&a.length&&(a.indexOf("consent_required")>-1||a.indexOf("interaction_required")>-1||a.indexOf("login_required")>-1))return n?N.acquireTokenRedirect(t):N.acquireTokenPopup(t);var a;console.error("Non-interactive error:",e.errorCode)})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onSignIn",value:function(){var e=Object(l.a)(u.a.mark((function e(t){var n,a,r,c=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=2;break}return e.abrupt("return",N.loginRedirect(q.LOGIN));case 2:return e.next=4,N.loginPopup(q.LOGIN).catch((function(e){c.setState({error:e.message})}));case 4:if(!(n=e.sent)){e.next=17;break}return this.setState({account:n.account,error:null}),e.next=9,this.acquireToken(q.LOGIN).catch((function(e){c.setState({error:e.message})}));case 9:if(!(a=e.sent)){e.next=17;break}return e.next=13,j(L,a.accessToken).catch((function(){c.setState({error:"Unable to fetch Graph profile."})}));case 13:if((r=e.sent)&&this.setState({graphProfile:r}),!(a.scopes.indexOf(I)>0)){e.next=17;break}return e.abrupt("return",this.readMail(a.accessToken));case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onSignOut",value:function(){N.logout()}},{key:"onRequestEmailToken",value:function(){var e=Object(l.a)(u.a.mark((function e(){var t,n=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.acquireToken(q.EMAIL,R).catch((function(e){n.setState({error:"Unable to acquire access token for reading email."})}));case 2:if(!(t=e.sent)){e.next=5;break}return e.abrupt("return",this.readMail(t.accessToken));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"readMail",value:function(){var e=Object(l.a)(u.a.mark((function e(t){var n,a=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(T,t).catch((function(){a.setState({error:"Unable to fetch email messages."})}));case 2:(n=e.sent)&&this.setState({emailMessages:n,error:null});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(l.a)(u.a.mark((function e(){var t,n,a,r=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(N.handleRedirectCallback((function(e){if(e){var t=e.errorMessage?e.errorMessage:"Unable to acquire access token.";r.setState({error:t})}})),t=N.getAccount(),this.setState({account:t}),!t){e.next=14;break}return e.next=6,this.acquireToken(q.LOGIN,R);case 6:if(!(n=e.sent)){e.next=14;break}return e.next=10,j(L,n.accessToken).catch((function(){r.setState({error:"Unable to fetch Graph profile."})}));case 10:if((a=e.sent)&&this.setState({graphProfile:a}),!(n.scopes.indexOf(I)>0)){e.next=14;break}return e.abrupt("return",this.readMail(n.accessToken));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var t=this;return r.a.createElement(e,Object.assign({},this.props,{account:this.state.account,emailMessages:this.state.emailMessages,error:this.state.error,graphProfile:this.state.graphProfile,onSignIn:function(){return t.onSignIn(R)},onSignOut:function(){return t.onSignOut()},onRequestEmailToken:function(){return t.onRequestEmailToken()}}))}}]),n}(a.Component)};A((function(e){var t=Object(a.useState)(!1),n=Object(f.a)(t,2),c=n[0],o=n[1];function i(){return(i=Object(l.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),o(!0),t.prev=2,t.next=5,e.onSignIn(n);case 5:o(!0),e.userHasAuthenticated(!0),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(2),alert(t.t0.message),o(!1);case 13:case"end":return t.stop()}}),t,null,[[2,9]])})))).apply(this,arguments)}return e.account?r.a.createElement(p,{props:e}):r.a.createElement("div",{className:"login"},r.a.createElement("form",{onSubmit:function(e){return i.apply(this,arguments)}},r.a.createElement(m.a,{controlId:"email",bsSize:"large"},r.a.createElement(d.a,null,"Hit the Login")),r.a.createElement(k,{block:!0,type:"submit",bsSize:"large",isLoading:c},"MS Login")))})),n(107);n(110);var P=n(114),G=n(115);function U(e){return r.a.createElement("div",null,r.a.createElement(P.a,null,r.a.createElement(G.a,{md:12},r.a.createElement("header",null,"HealthRX"))),r.a.createElement(P.a,null,r.a.createElement(G.a,{md:12},r.a.createElement("div",null,"Content"))),r.a.createElement(P.a,null,r.a.createElement(G.a,{md:12},r.a.createElement("footer",null,"Footer"))))}var C=Object(h.f)(A((function(e){var t=Object(a.useState)(!0),n=Object(f.a)(t,2),c=(n[0],n[1]),o=Object(a.useState)(!1),i=Object(f.a)(o,2),s=(i[0],i[1]);function h(){return(h=Object(l.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{s(e.account)}catch(n){"No current user"!==n&&alert(n)}c(!1);case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(a.useEffect)((function(){!function(){h.apply(this,arguments)}()}),[]),r.a.createElement("div",{className:"container-fluid"},r.a.createElement(U,null))})));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(i.a,null,r.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},61:function(e,t,n){e.exports=n(111)},66:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){}},[[61,1,2]]]);
//# sourceMappingURL=main.abe5e8b2.chunk.js.map